{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "Architecture":
    {
        "GlobalBehaviors":[
            {
                "Name":"CallTimerBehavior",
                "Assembly":"ThatDeveloperDad.iFX" 
            }
        ],
        "Modules":[
            {
                "LogicalName": "AccountManagement",
                "Contract":"IAccountManager", 
                "ContractAssembly":"DevDad.SaaSAdmin.AccountManager",
                "Lifetime":"Scoped", 
                "Implementation":{
                    "Source":"Module",
                    "Assembly":"DevDad.SaaSAdmin.AccountManager"
                    },
                "Dependencies":[
                    {
                        "Contract":"ILoggerFactory",
                        "Implementation":{"Source":"Shared"}
                    },
                    {
                        "LogicalName": "UserIdentityAccess",
                        "Contract":"IUserIdentityAccess", 
                        "ContractAssembly":"DevDad.SaaSAdmin.UserIdentity.Abstractions",
                        "Lifetime":"Scoped", 
                        "Implementation":{
                            "Source":"Module",
                            "Assembly":"DevDad.SaaSAdmin.UserIdentity.EntraB2C",
                            "ServiceOptions":{
                                "TenantId":"EXT:CustomerAccountManager:IUserIdentityAccess:TenantId",
                                "ClientId":"EXT:CustomerAccountManager:IUserIdentityAccess:ClientId",
                                "ClientSecret":"EXT:CustomerAccountManager:IUserIdentityAccess:ClientSecret",
                                "ApplicationGroupPrefix":""
                            }
                        },
                        "Dependencies":[
                            {
                                "Contract":"ILoggerFactory",
                                "Implementation":{"Source":"Shared"}
                            }
                        ]
                    },
                    {
                        "LogicalName": "UserAccountAccess",
                        "Contract":"IUserAccountAccess",
                        "ContractAssembly":"DevDad.SaaSAdmin.UserAccountAccess.Abstractions",
                        "Lifetime":"Scoped",
                        "Implementation":{
                            "Source":"Module",
                            "Assembly":"DevDad.SaaSAdmin.UserAccountAccess.AzureTableProvider",
                            "ServiceOptions":{
                                "ConnectionString":"EXT:CustomerAccountManager:IUserAccountAccess:ConnectionString"
                            }
                        },
                        "Dependencies":[
                            {
                                "Contract":"ILoggerFactory",
                                "Implementation":{"Source":"Shared"}
                            }
                        ]
                    },
                    {
                        "LogicalName": "CatalogAccess",
                        "Contract":"ICatalogAccess",
                        "ContractAssembly":"DevDad.SaaSAdmin.Catalog.Abstractions",
                        "Lifetime":"Scoped",
                        "Implementation":{
                            "Source":"Module",
                            "Assembly":"DevDad.SaaSAdmin.Catalog.HardCoded"
                        }
                    }
                ],
                "Behaviors":[]
            },
            {
                "LogicalName": "StoreManagement",
                "Contract":"IStoreManager", 
                "ContractAssembly":"DevDad.SaaSAdmin.StoreManager",
                "Lifetime":"Scoped", 
                "Implementation":{
                    "Source":"Module",
                    "Assembly":"DevDad.SaaSAdmin.StoreManager"
                    },
                "Dependencies":[
                    {
                        "Contract":"ILoggerFactory",
                        "Implementation":{"Source":"Shared"}
                    },
                    {
                        "LogicalName": "CatalogAccess",
                        "Contract":"ICatalogAccess",
                        "ContractAssembly":"DevDad.SaaSAdmin.Catalog.Abstractions",
                        "Lifetime":"Scoped",
                        "Implementation":{
                            "Source":"Module",
                            "Assembly":"DevDad.SaaSAdmin.Catalog.HardCoded"
                        }
                    },
                    {
                        "LogicalName": "EcommerceApiGateway",
                        "Contract":"IStoreApiAccess",
                        "ContractAssembly":"DevDad.SaaSAdmin.StoreAccess.Abstractions",
                        "Lifetime":"Scoped",
                        "Implementation":{
                            "Source":"Module",
                            "Assembly":"DevDad.SaaSAdmin.StoreAccess.LsApi",
                            "ServiceOptions":{
                                "BaseUrl":"https://api.lemonsqueezy.com",
                                "StoreId":132258,
                                "IsTestMode":"EXT:StoreApiAccess:UseTestMode",
                                "ApiKey":"EXT:StoreApiAccess:ApiKey"
                            }
                        },
                        "Dependencies":[
                            {
                                "Contract":"ILoggerFactory",
                                "Implementation":{"Source":"Shared"}
                            },
                            {
                                "Contract":"HttpClient",
                                "Implementation":{"Source":"Shared"}
                            }
                        ]
                    }
                ]
            }
        ]
    }
}
